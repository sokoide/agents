# Enterprise Best Practices

## アンチパターンと回避策

- **Enum の回避:**
  `const object` + `Union Type` を推奨。バンドルサイズの削減と Tree-shaking への親和性、および JS のセマンティクスとの整合性を優先する。
- **非 null アサーション (`!`) の制限:**
  可能な限り `Optional Chaining` (`?.`) か、明示的なガード節による `null` チェックを行う。
- **`any` の原則禁止:**
  外部データの境界など型が不明な場合は `unknown` を使用し、バリデーション（Zod等）を経て型を確定させる。

## パフォーマンスと最適化

- **型専用インポート (`import type`):**
  ランタイム依存関係を明確にし、ビルド時のデッドコード削除を効率化する。
- **モジュール境界の設計:**
  `package.json` の `exports` フィールドを意識し、内部専用の型が外部に漏洩しないようカプセル化を徹底する。

## React パターン (TS 特化)

- **Component Props:** インターフェースではなく型エイリアスを使用し、`Readonly` を適用することで意図しない副作用を防止。
- **Generic Components:** 再利用性の高いコンポーネントに対して、型パラメータを適切に伝播させる設計。

## ランタイム動作の考慮

- **ES Private (#) vs TS private:**
  真のカプセル化が必要な場合は ES の `#` 構文を検討し、単なるアクセス制限で十分な場合は TS の `private` を使用する（パフォーマンスへの影響を考慮）。
